
Технический Отчет по проекту "Списки Дел" (Vanilla JS)
Исполнитель: [Калабин Нурсултан ]
Дата: 08 декабря 2025 г.

1. Введение и Обзор Задачи
Проект представляет собой классический интерактивный список дел (To-Do List), реализованный на чистом JavaScript, без использования фреймворков. Основной акцент был сделан на надежной реализации базового функционала (CRUD: создание, чтение, обновление, удаление) и сохранении данных в браузере.
2. Архитектура и Файловая Структура
В ходе работы выяснилось, что первоначальная модульная структура (main.js, storage.js, ui.js) с использованием import/export вызывала критическую ошибку в браузере (CORS/Module Loading) при открытии файла с локального диска (file:///).
Принятое решение: Для обеспечения 100% работоспособности и простоты запуска, все функции были объединены в один файл script.js. Несмотря на консолидацию, внутренняя структура кода сохранила логическое разделение на блоки: Storage, Utils и UI/Controller.
3. Ключевая функциональность и Реализация
| Функция | Используемый метод | Особенности реализации |

| Сохранение данных | localStorage | Используются функции loadTasks() и saveTasks() для сериализации/десериализации массива tasks с помощью JSON.stringify/parse. Сохранение происходит после каждого изменения состояния. |
| Добавление/Удаление | Array.prototype.push() / Array.prototype.filter() | Удаление реализовано через фильтрацию основного массива tasks. После удаления или добавления вызывается полная перерисовка (render()) списка. |
| Переключение статуса | taskSpan.addEventListener('click', ...) | Переключение статуса (task.completed = !task.completed) происходит при клике на текст задачи, после чего переключается CSS-класс (.completed) для визуального отображения (зачеркивания). |
| Редактирование (Inline) | dblclick + input | Самый сложный участок. При двойном клике (dblclick) элемент <span> с текстом заменяется на <input>. Для устранения конфликтов событий (blur и Enter) был введен флаг isSaving, гарантирующий, что функция сохранения сработает только один раз. |
4. Обнаруженные проблемы и Решения
4.1. Проблема с модулями (Критическая)
 * Проблема: При запуске через file:// браузер блокировал импорт модулей (.js файлов).
 * Решение: Объединение всех скриптов в один файл script.js и удаление атрибута <script type="module">. Это обеспечило стабильный запуск без необходимости использования локального сервера.
4.2. Конфликт событий при редактировании
 * Проблема: При редактировании и быстром нажатии Enter, или при клике вне поля, сохранения часто дублировались или не происходили, так как события blur и keypress конфликтовали.
 * Решение: В функции handleEditTask использована явная синхронизация:
   * Введен флаг isSaving.
   * При нажатии Enter, скрипт вызывает saveChanges() и принудительно снимает фокус (editInput.blur()).
   * Обработчики событий (blur, keypress) явно удаляются после первого успешного сохранения, чтобы избежать повторного срабатывания при перерисовке DOM.
5. Заключение
Проект полностью соответствует требованиям и демонстрирует чистую, хотя и многословную, работу с DOM, характерную для Vanilla JS. Приложение готово к дальнейшему расширению функционала (например, добавление фильтров) на основе созданной архитектуры управления состоянием.
Если вам нужно добавить еще какой-либо раздел или деталь, просто скажите!